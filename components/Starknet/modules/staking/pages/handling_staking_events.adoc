[id="handling-staking-events"]
= Handling Staking Events

:description: How to manage and respond to events emitted by the Starknet staking protocol.

Staking events in Starknet provide critical information about changes in the staking process, such as balance updates, delegation pool creation, and exit intents. This section guides you through the process of handling these events and responding to them.

.Prerequisites

* A Starknet-compatible block explorer or CLI tool.
* Knowledge of the staking contract address and the relevant event names.

== Monitoring Staking Events

.Procedure

. Using a Starknet block explorer, navigate to the staking contract.
. Locate the *Events* section to view the available event logs.
. Filter the event logs by event type, such as `BalanceChanged`, `NewDelegationPool`, or `StakerExitIntent`.
. Review the event details, which typically include:
+
* *`staker`*: The address of the staker involved.
* *`amount`*: The amount associated with the event (for `BalanceChanged`).
* *`exit_at`*: The timestamp of the exit intent (for `StakerExitIntent`).
. Use this information to take appropriate actions, such as updating your records or responding to changes in the staking protocol.

== Responding to Staking Events

Different events require different responses. Below are some common scenarios:

=== Balance Changed

If a `BalanceChanged` event is emitted:

.Procedure

. Check the `staker` and `amount` fields in the event log to identify which staker's balance has changed and by how much.
. Update your records to reflect the new balance.

=== New Delegation Pool

If a `NewDelegationPool` event is emitted:

.Procedure

. Check the `staker_address` and `pool_contract` fields to identify the staker and the newly created delegation pool.
. Record the new delegation pool details, including the commission rate.

=== Staker Exit Intent

If a `StakerExitIntent` event is emitted:

.Procedure

. Check the `staker` and `exit_at` fields to identify the staker who intends to exit and the expected exit time.
. Monitor the `exit_at` time to ensure that you take action once the exit window opens.

Responding promptly to these events ensures that you stay updated with the latest changes in the staking process and can manage your staking activities effectively.